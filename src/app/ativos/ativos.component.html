<app-menu></app-menu>

<div>

    <input pInputText type="text" placeholder="Ticker" [(ngModel)]="novoAtivo.ticker" class="p-mr-2">
    <input pInputText type="text" placeholder="Nome" [(ngModel)]="novoAtivo.nome" class="p-mr-2">
    <input pInputText type="text" placeholder="Razão Social" [(ngModel)]="novoAtivo.razaoSocial" class="p-mr-2">
    <input pInputText type="text" placeholder="CNPJ" [(ngModel)]="novoAtivo.cnpj" class="p-mr-2">
    <input pInputText type="text" placeholder="Fonte pagadora" [(ngModel)]="novoAtivo.fontePagadora" class="p-mr-2">
    <input pInputText type="text" placeholder="CNPJ pagador" [(ngModel)]="novoAtivo.cnpjPagadora" class="p-mr-2">
    <p-button class="p-mr-2" (click)='insertTicker()'>Adicionar</p-button>
    <p-button (click)="limparNovoTicker()">Limpar</p-button>

</div>
<hr>
<div>

    <div>
        <p-button (click)='salvarTabela()' class="p-mr-2">Salvar</p-button>
        <p-button (click)='restaurarTabela()' >Cancelar</p-button>
    </div>
    <div class="card">
        <p-table [value]="ativos" dataKey="ticker">
            <ng-template pTemplate="header">
                <tr>
                    <th>Ticker</th>
                    <th>Nome</th>
                    <th>Razão Social</th>
                    <th>CNPJ</th>
                    <th>Fonte Pagadora</th>
                    <th>CNPJ Pagador</th>
                    <th>Remover</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-at>
                <tr>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="at.ticker">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.ticker}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="at.nome" required>
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.nome}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText [(ngModel)]="at.razaoSocial">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.razaoSocial}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="at.cnpj">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.cnpj}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="at.fontePagadora">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.fontePagadora}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td pEditableColumn>
                        <p-cellEditor>
                            <ng-template pTemplate="input">
                                <input pInputText type="text" [(ngModel)]="at.cnpjPagadora">
                            </ng-template>
                            <ng-template pTemplate="output">
                                {{at.cnpjPagadora}}
                            </ng-template>
                        </p-cellEditor>
                    </td>
                    <td>
                        <p-button (click)='removerAtivo(at.key)'>X</p-button>
                    </td>
                </tr>
            </ng-template>
        </p-table>
    </div>